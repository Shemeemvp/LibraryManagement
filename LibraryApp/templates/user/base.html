<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{%block title%}Home | GreySense Library{%endblock%}</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static 'images/ico/main.ico' %}"
    />
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    /> -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />

    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"> -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
      integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
      integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="{% static 'stylesheets/style.css' %}" />
    <link rel="stylesheet" href="{% static 'stylesheets/base.css' %}" />
    {%block stylesheet%} {%endblock%}
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" ></script> -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"
      integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body id="body-pd">
    <style>
      body{
        background-color:#91919118;
      }
    </style>
    <header class="header bg-dark" id="header">
      <div class="header_toggle">
        <i class="bx bx-menu text-white" id="header-toggle"></i>
      </div>
      <div class="header_toggle_offcanvas">
        <i
          class="bx bx-menu text-white"
          id="header-toggle-offcanvas"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#baseNavBar"
          aria-controls="baseNavBar"
        ></i>
      </div>
      <form
        class="form-inline"
        method="get"
        action="{% url 'searchBooks' %}"
        role="search"
        style="display: flex"
        id="navBarSearchForm"
      >
        <div class="search-bar">
          <input
            class="form-control srch mr-sm-2"
            type="search"
            name="search"
            placeholder="Search Books or Authors.."
            aria-label="Search"
            required
          />
        </div>
        <button class="btn btn-light srchbtn ms-2" type="submit">
          <i class="bx bx-search-alt-2"></i>
        </button>
      </form>
      <ul class="navbar-nav justify-content-end">
        {% if request.user.is_authenticated %}
        <li class="nav-item dropdown">
          <a
            class="nav-link d-flex d-inline-block align-items-center dropdown-toggle"
            data-bs-toggle="dropdown"
            id="navbarDropdown"
            href="#"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
            ><div class="header_img">
              {%if reader.image %}
              <img src="{{reader.image.url}}" alt="" />
              {%else%}
              <img src="{% static 'images/user/nouser.jpg' %}" alt="" />
              {%endif%}
            </div>
            <span class="ms-2 text-white">{{request.user.first_name}}</span>
          </a>
          <div class="dropdown-menu head-dd" id="navbar-dropdown-main" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{% url 'myProfile' %}"
              ><span><i class="fa fa-user text-secondary"></i></span> My
              Profile</a
            >
            <a class="dropdown-item" href="{% url 'myOrders' %}"
              ><span><i class="fa-solid fa-cart-shopping"></i></span>
              Purchases</a
            >
            <a class="dropdown-item" href="{% url 'rentalHistory' %}"
              ><span><i class="fa fa-solid fa-book"></i></span> Rental
              History</a
            >
            <a class="dropdown-item" href="#"
              ><span><i class='bx bx-heart bx-tada text-danger' ></i></span> Wishlist <span class="badge bg-secondary float-end">0</span></a
            >
            <a class="dropdown-item" href="#dueAlerts" data-bs-toggle="modal"
              ><span><i class="fa-solid fa-bell text-secondary"></i></span>
              Notifications</a
            >
            <a
              class="dropdown-item"
              href="#"
              role="button"
              data-bs-toggle="modal"
              data-bs-target="#resetPassword"
              ><span><i class="fa-solid fa-key text-secondary"></i></span> Reset
              Password</a
            >
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'userLogout' %}"
              ><span><i class="fa-solid fa-power-off text-danger"></i></span>
              Logout</a
            >
          </div>
        </li>
        {% else %}
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            data-mdb-toggle="dropdown"
            id="navbarDropdown"
            href="#"
            role="button"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <div class="header_img">
              <img src="{% static 'images/user/nouser.jpg' %}" alt="" />
            </div>
          </a>
          <div class="dropdown-menu head-dd" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{% url 'signInPage' %}"
              ><span
                ><i class="fa-solid fa-right-to-bracket text-info"></i
              ></span>
              Login</a
            >
            <div class="dropdown-divider"></div>
            <a
              class="dropdown-item d-flex d-inline-block align-items-center"
              href="{% url 'signUpPage' %}"
              ><span><i class="fa fa-user text-secondary me-2"></i></span>
              New Customer?
              <div class="w-100 ms-2 d-flex justify-content-end">
                <span class="btn btn-outline-primary">Sign Up</span>
              </div></a
            >
          </div>
        </li>
        {% endif %}
      </ul>
    </header>
    <div class="l-navbar bg-dark" id="nav-bar">
      <nav class="nav">
        <div>
          <a href="/" class="nav_logo">
            <i class="bx bx-book nav_icon text-white"></i>
            <span class="nav_logo-name">GreySense Library</span>
          </a>
          <div class="nav_list">
            <a href="/" class="nav_link active">
              <i class="bx bxs-home nav_icon"></i>
              <span class="nav_name">Home</span>
            </a>
            <a href="{% url 'myProfile' %}" class="nav_link">
              <i class="bx bx-user nav_icon"></i>
              <span class="nav_name">Profile</span>
            </a>
            <a href="{% url 'userCart' %}" class="nav_link">
              <i class="bx bx-cart nav_icon"></i>
              {%if request.user%}
              <span id="cart-count" class="badge badge-pill bg-info"
                >{{count}}</span
              >
              {%else%}<span id="cart-count" class="badge badge-pill bg-info"
                >0</span
              >
              {%endif%}
              <span class="nav_name">My Cart</span>
            </a>
            <a
              href="#dueAlerts"
              class="nav_link"
              role="button"
              data-bs-toggle="modal"
            >
              <i class="bx bx-bell nav_icon"></i>
              <span id="due-count" class="badge badge-pill bg-danger"
                >{{duesCount}}</span
              >
              <span class="nav_name">Notifications</span>
            </a>
            <a href="{% url 'showBooksByCategories' 0 %}" class="nav_link">
              <i class="bx bx-category nav_icon"></i>
              <span class="nav_name">Categories</span>
            </a>
            <a href="#pendingPenalties" data-bs-toggle="modal" class="nav_link">
              <i class="fa-solid fa-file-invoice-dollar nav_icon"></i>
              <span class="nav_name">Penalties</span>
              <span id="penalty-count" class="badge badge-pill bg-danger count-badge">{{penalties|length}}</span>
            </a>
            <a href="#reportIssue" data-bs-toggle="modal" class="nav_link">
              <i class="bx bx-bug nav_icon"></i>
              <span class="nav_name">Report Issue</span>
            </a>
          </div>
        </div>
        {% if request.user.is_authenticated %}
        <a href="{% url 'userLogout' %}" class="nav_link">
          <i class="bx bx-log-out nav_icon"></i>
          <span class="nav_name">Sign Out</span>
        </a>
        {%else%}
        <a href="{% url 'signInPage' %}" class="nav_link">
          <i class="bx bx-log-in nav_icon"></i>
          <span class="nav_name">Sign In</span>
        </a>
        {%endif%}
      </nav>
    </div>

    <!-- OFFCANVAS NAV -->
    <div
      class="offcanvas offcanvas-start offcanvas-navbar bg-dark"
      data-bs-backdrop="false"
      data-bs-scroll="true"
      tabindex="-1"
      id="baseNavBar"
      aria-labelledby="baseNavBarLabel"
    >
      <div class="offcanvas-header p-0">
        <a href="/" class="nav_logo">
          <i class="bx bx-book nav_icon text-white"></i>
          <span class="nav_logo-name">GreySense</span>
        </a>
        <a href="#" class="py-1"
          ><span
            type="button"
            class="d-felx align-items-center"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
            ><i class="fa-solid fa-xmark text-white"></i></span
        ></a>
      </div>
      <div class="offcanvas-body pt-0">
        <nav class="nav">
          <div class="nav_list">
            <a href="/" class="nav_link active">
              <i class="bx bxs-home nav_icon"></i>
              <span class="nav_name">Home</span>
            </a>
            <a href="{% url 'myProfile' %}" class="nav_link">
              <i class="bx bx-user nav_icon"></i>
              <span class="nav_name">Profile</span>
            </a>
            <a href="{% url 'userCart' %}" class="nav_link">
              <i class="bx bx-cart nav_icon"></i>
              {%if request.user%}
              <span id="cart-count" class="badge badge-pill bg-info"
                >{{count}}</span
              >
              {%else%}<span id="cart-count" class="badge badge-pill bg-info"
                >0</span
              >
              {%endif%}
              <span class="nav_name">My Cart</span>
            </a>
            <a
              href="#dueAlerts"
              class="nav_link"
              role="button"
              data-bs-toggle="modal"
            >
              <i class="bx bx-bell nav_icon"></i>
              <span id="due-count" class="badge badge-pill bg-danger"
                >{{duesCount}}</span
              >
              <span class="nav_name">Notifications</span>
            </a>
            <a href="{% url 'showBooksByCategories' 0 %}" class="nav_link">
              <i class="bx bx-category nav_icon"></i>
              <span class="nav_name">Categories</span>
            </a>
            <a href="#pendingPenalties" data-bs-toggle="modal" class="nav_link">
              <i class="fa-solid fa-file-invoice-dollar nav_icon"></i>
              <span class="nav_name">Penalties</span>
              <span id="penalty-count" class="badge badge-pill bg-danger count-badge">{{penalties|length}}</span>
            </a>
            <a href="#reportIssue" data-bs-toggle="modal" class="nav_link">
              <i class="bx bx-bug nav_icon"></i>
              <span class="nav_name">Report Issue</span>
            </a>
          </div>
          {% if request.user.is_authenticated %}
          <a href="{% url 'userLogout' %}" class="nav_link">
            <i class="bx bx-log-out nav_icon"></i>
            <span class="nav_name">Sign Out</span>
          </a>
          {%else%}
          <a href="{% url 'signInPage' %}" class="nav_link">
            <i class="bx bx-log-in nav_icon"></i>
            <span class="nav_name">Sign In</span>
          </a>
          {%endif%}
        </nav>
      </div>
    </div>

    <!-- Password Reset Modal -->
    <div
      class="modal fade"
      id="resetPassword"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="resetPasswordLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Reset Password</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <form action="{% url 'resetPassword' %}" method="post" class="form">
            {%csrf_token%}
            <div class="modal-body">
              <div class="resetpassword-seg">
                <div class="from-group">
                  <label for="currentPassword">Current Password</label>
                  <input
                    type="text"
                    id="currentPassword"
                    name="current-password"
                    class="form-control"
                    required
                  />
                </div>
                <div class="from-group">
                  <label for="newPassword">New Password</label>
                  <input
                    type="text"
                    id="newPassword"
                    name="new-password"
                    class="form-control"
                    required
                  />
                  <div
                    class="error-seg text-danger text-sm"
                    id="password_err"
                  ></div>
                </div>
                <div class="from-group">
                  <label for="confirmPassword">Confirm Password</label>
                  <input
                    type="password"
                    id="confirmPassword"
                    name="confirm-password"
                    class="form-control"
                    required
                  />
                  <div
                    class="confirmErr text-danger"
                    id="confirmPass_err"
                  ></div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button
                type="button"
                onclick="resetPassword()"
                id="resetbtn"
                class="btn btn-primary"
              >
                Reset
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Due Alerts Modal -->
    <div
      class="modal fade due-alerts"
      id="dueAlerts"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="dueAlertsLabel"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Due Alerts..</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            {% if not dues %} {%else%}
            <span
              class="h6 text-danger d-felx justify-content-center"
              style="display: flex"
              >Over Due</span
            >
            <div class="row px-3">
              <div class="col-md-4 col-3">Book</div>
              <div class="col-md-3 col-2">Due Date</div>
              <div class="col-md-2 col-2">Fine</div>
              <div class="col-md-3 col-5"></div>
            </div>
            {% for item in dues %}
            <div class="row due-alert-item px-3 py-2">
              <span
                style="cursor: pointer"
                class="col-md-4 col-3 fw-bold link-primary"
                onclick="window.location.href=`{% url 'showBook' item.book.id %}`"
                >{{item.book.title}}</span
              >
              <span class="col-md-3 col-2 text-danger"
                >{{item.due_date|date:'j/n/y'}}</span
              >
              <span class="col-md-2 col-2">₹{{item.fine_amount}}</span>
              <span class="col-md-3 col-5"
                ><button
                  class="btn btn-primary btn-sm w-100"
                  data-bs-target="#duePayment"
                  data-bs-toggle="modal"
                  data-bs-dismiss="modal"
                  onclick="passDueAmount(`{{item.fine_amount}}`,`{{item.id}}`)"
                >
                  Pay&Return
                </button></span
              >
            </div>
            {%endfor%} {%endif%} {% if not nearingDues %} {%else%}
            <span
              class="h6 text-danger d-felx justify-content-center"
              style="display: flex"
              >Nearing Dues</span
            >
            <div class="row px-3">
              <div class="col-md-4 col-3">Book</div>
              <div class="col-md-3 col-2">Due Date</div>
              <div class="col-md-2 col-2">Fine</div>
              <div class="col-md-3 col-5"></div>
            </div>
            {% for item in nearingDues %}
            <div class="row due-alert-item px-3 py-2">
              <span
                style="cursor: pointer"
                class="col-md-4 col-3 fw-bold link-primary"
                onclick="window.location.href=`{% url 'showBook' item.book.id %}`"
                >{{item.book.title}}</span
              >
              <span class="col-md-3 col-2">{{item.due_date|date:'j/n/y'}}</span>
              <span class="col-md-2 col-2">₹{{item.fine_amount}}</span>
              <span class="col-md-3 col-5"
                ><button
                  class="btn btn-primary btn-sm w-100"
                  onclick="returnBook(`{{item.id}}`)"
                >
                  Return
                </button></span
              >
            </div>
            {%endfor%} {%endif%} {% if not dues and not nearingDues %}
            <span class="fw-bold fs-3 d-flex justify-content-center"
              >No Dues..!</span
            >
            {%endif%}
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Due payment modal -->
    <div
      class="modal fade"
      id="duePayment"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="duePaymentLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="duePaymentLabel">
              Choose a payment option
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="payment-seg">
              <h1 class="h3 mb-2">Payment</h1>
              <div class="due-amount-seg mb-2">
                <span
                  >Amount Rs:
                  <span
                    class="text-secondary h4"
                    id="pay-due-amount-value"
                  ></span
                ></span>
              </div>
              <form
                action="{% url 'payAndReturn' %}"
                class="form"
                method="post"
              >
                {%csrf_token%}
                <div class="row">
                  <div class="col">
                    <div class="accordion" id="accordionPayment">
                      <!-- Credit card -->
                      <div class="accordion-item mb-3 border border-secondary">
                        <h2
                          class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center"
                        >
                          <div
                            class="form-check w-100 collapsed d-flex align-items-center"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseCC"
                            aria-expanded="false"
                          >
                            <input
                              class="form-check-input"
                              type="radio"
                              name="PaymentMethod"
                              id="payment1"
                              value="Credit Card"
                              required
                            />
                            <label class="form-check-label ms-2" for="payment1">
                              Credit Card
                            </label>
                          </div>
                          <span>
                            <svg
                              width="34"
                              height="25"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <g fill-rule="nonzero" fill="#333840">
                                <path
                                  d="M29.418 2.083c1.16 0 2.101.933 2.101 2.084v16.666c0 1.15-.94 2.084-2.1 2.084H4.202A2.092 2.092 0 0 1 2.1 20.833V4.167c0-1.15.941-2.084 2.102-2.084h25.215ZM4.203 0C1.882 0 0 1.865 0 4.167v16.666C0 23.135 1.882 25 4.203 25h25.215c2.321 0 4.203-1.865 4.203-4.167V4.167C33.62 1.865 31.739 0 29.418 0H4.203Z"
                                ></path>
                                <path
                                  d="M4.203 7.292c0-.576.47-1.042 1.05-1.042h4.203c.58 0 1.05.466 1.05 1.042v2.083c0 .575-.47 1.042-1.05 1.042H5.253c-.58 0-1.05-.467-1.05-1.042V7.292Zm0 6.25c0-.576.47-1.042 1.05-1.042H15.76c.58 0 1.05.466 1.05 1.042 0 .575-.47 1.041-1.05 1.041H5.253c-.58 0-1.05-.466-1.05-1.041Zm0 4.166c0-.575.47-1.041 1.05-1.041h2.102c.58 0 1.05.466 1.05 1.041 0 .576-.47 1.042-1.05 1.042H5.253c-.58 0-1.05-.466-1.05-1.042Zm6.303 0c0-.575.47-1.041 1.051-1.041h2.101c.58 0 1.051.466 1.051 1.041 0 .576-.47 1.042-1.05 1.042h-2.102c-.58 0-1.05-.466-1.05-1.042Zm6.304 0c0-.575.47-1.041 1.051-1.041h2.101c.58 0 1.05.466 1.05 1.041 0 .576-.47 1.042-1.05 1.042h-2.101c-.58 0-1.05-.466-1.05-1.042Zm6.304 0c0-.575.47-1.041 1.05-1.041h2.102c.58 0 1.05.466 1.05 1.041 0 .576-.47 1.042-1.05 1.042h-2.101c-.58 0-1.05-.466-1.05-1.042Z"
                                ></path>
                              </g>
                            </svg>
                          </span>
                        </h2>
                        <div
                          id="collapseCC"
                          class="accordion-collapse collapse p-3"
                          data-bs-parent="#accordionPayment"
                        >
                          <div class="accordion-body">
                            <div class="mb-3">
                              <label class="form-label">Card Number</label>
                              <input
                                type="text"
                                class="form-control"
                                placeholder=""
                              />
                            </div>
                            <div class="row">
                              <div class="col-lg-6">
                                <div class="mb-3">
                                  <label class="form-label">Name on card</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    placeholder=""
                                  />
                                </div>
                              </div>
                              <div class="col-lg-3">
                                <div class="mb-3">
                                  <label class="form-label">Expiry date</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    placeholder="MM/YY"
                                  />
                                </div>
                              </div>
                              <div class="col-lg-3">
                                <div class="mb-3">
                                  <label class="form-label">CVV Code</label>
                                  <input type="password" class="form-control" />
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- PayPal -->
                      <div class="accordion-item mb-3 border border-secondary">
                        <h2
                          class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center"
                        >
                          <div
                            class="form-check w-100 d-flex align-items-center"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapsePP"
                            aria-expanded="false"
                          >
                            <input
                              class="form-check-input"
                              type="radio"
                              name="PaymentMethod"
                              id="payment2"
                              value="PayPal"
                            />
                            <label class="form-check-label ms-2" for="payment2">
                              PayPal
                            </label>
                          </div>
                          <span>
                            <svg
                              width="103"
                              height="25"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <g fill="none" fill-rule="evenodd">
                                <path
                                  d="M8.962 5.857h7.018c3.768 0 5.187 1.907 4.967 4.71-.362 4.627-3.159 7.187-6.87 7.187h-1.872c-.51 0-.852.337-.99 1.25l-.795 5.308c-.052.344-.233.543-.505.57h-4.41c-.414 0-.561-.317-.452-1.003L7.74 6.862c.105-.68.478-1.005 1.221-1.005Z"
                                  fill="#009EE3"
                                ></path>
                                <path
                                  d="M39.431 5.542c2.368 0 4.553 1.284 4.254 4.485-.363 3.805-2.4 5.91-5.616 5.919h-2.81c-.404 0-.6.33-.705 1.005l-.543 3.455c-.082.522-.35.779-.745.779h-2.614c-.416 0-.561-.267-.469-.863l2.158-13.846c.106-.68.362-.934.827-.934h6.263Zm-4.257 7.413h2.129c1.331-.051 2.215-.973 2.304-2.636.054-1.027-.64-1.763-1.743-1.757l-2.003.009-.687 4.384Zm15.618 7.17c.239-.217.482-.33.447-.062l-.085.642c-.043.335.089.512.4.512h2.323c.391 0 .581-.157.677-.762l1.432-8.982c.072-.451-.039-.672-.38-.672H53.05c-.23 0-.343.128-.402.48l-.095.552c-.049.288-.18.34-.304.05-.433-1.026-1.538-1.486-3.08-1.45-3.581.074-5.996 2.793-6.255 6.279-.2 2.696 1.732 4.813 4.279 4.813 1.848 0 2.674-.543 3.605-1.395l-.007-.005Zm-1.946-1.382c-1.542 0-2.616-1.23-2.393-2.738.223-1.507 1.665-2.737 3.206-2.737 1.542 0 2.616 1.23 2.394 2.737-.223 1.508-1.664 2.738-3.207 2.738Zm11.685-7.971h-2.355c-.486 0-.683.362-.53.808l2.925 8.561-2.868 4.075c-.241.34-.054.65.284.65h2.647a.81.81 0 0 0 .786-.386l8.993-12.898c.277-.397.147-.814-.308-.814H67.6c-.43 0-.602.17-.848.527l-3.75 5.435-1.676-5.447c-.098-.33-.342-.511-.793-.511h-.002Z"
                                  fill="#113984"
                                ></path>
                                <path
                                  d="M79.768 5.542c2.368 0 4.553 1.284 4.254 4.485-.363 3.805-2.4 5.91-5.616 5.919h-2.808c-.404 0-.6.33-.705 1.005l-.543 3.455c-.082.522-.35.779-.745.779h-2.614c-.417 0-.562-.267-.47-.863l2.162-13.85c.107-.68.362-.934.828-.934h6.257v.004Zm-4.257 7.413h2.128c1.332-.051 2.216-.973 2.305-2.636.054-1.027-.64-1.763-1.743-1.757l-2.004.009-.686 4.384Zm15.618 7.17c.239-.217.482-.33.447-.062l-.085.642c-.044.335.089.512.4.512h2.323c.391 0 .581-.157.677-.762l1.431-8.982c.073-.451-.038-.672-.38-.672h-2.55c-.23 0-.343.128-.403.48l-.094.552c-.049.288-.181.34-.304.05-.433-1.026-1.538-1.486-3.08-1.45-3.582.074-5.997 2.793-6.256 6.279-.199 2.696 1.732 4.813 4.28 4.813 1.847 0 2.673-.543 3.604-1.395l-.01-.005Zm-1.944-1.382c-1.542 0-2.616-1.23-2.393-2.738.222-1.507 1.665-2.737 3.206-2.737 1.542 0 2.616 1.23 2.393 2.737-.223 1.508-1.665 2.738-3.206 2.738Zm10.712 2.489h-2.681a.317.317 0 0 1-.328-.362l2.355-14.92a.462.462 0 0 1 .445-.363h2.682a.317.317 0 0 1 .327.362l-2.355 14.92a.462.462 0 0 1-.445.367v-.004Z"
                                  fill="#009EE3"
                                ></path>
                                <path
                                  d="M4.572 0h7.026c1.978 0 4.326.063 5.895 1.45 1.049.925 1.6 2.398 1.473 3.985-.432 5.364-3.64 8.37-7.944 8.37H7.558c-.59 0-.98.39-1.147 1.449l-.967 6.159c-.064.399-.236.634-.544.663H.565c-.48 0-.65-.362-.525-1.163L3.156 1.17C3.28.377 3.717 0 4.572 0Z"
                                  fill="#113984"
                                ></path>
                                <path
                                  d="m6.513 14.629 1.226-7.767c.107-.68.48-1.007 1.223-1.007h7.018c1.161 0 2.102.181 2.837.516-.705 4.776-3.793 7.428-7.837 7.428H7.522c-.464.002-.805.234-1.01.83Z"
                                  fill="#172C70"
                                ></path>
                              </g>
                            </svg>
                          </span>
                        </h2>
                        <div
                          id="collapsePP"
                          class="accordion-collapse collapse"
                          data-bs-parent="#accordionPayment"
                        >
                          <div class="accordion-body">
                            <div class="px-2 col-lg-6 mb-3">
                              <label class="form-label">Email address</label>
                              <input type="email" class="form-control" />
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item mb-3 border border-secondary">
                        <h2
                          class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center"
                        >
                          <div
                            class="form-check w-100 d-flex align-items-center"
                          >
                            <input
                              class="form-check-input"
                              type="radio"
                              name="PaymentMethod"
                              id="payment4"
                              value="Cash"
                            />
                            <label class="form-check-label ms-2" for="payment4">
                              Pay by Cash
                            </label>
                          </div>
                          <span>
                            <svg
                              class=""
                              width="50"
                              height="50"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <g data-name="Cash On Delivery">
                                {{!
                                <rect width="6" height="6" x="15" y="1" />
                                }}
                                <path
                                  d="M35,11V1H23V8a1,1,0,0,1-1,1H14a1,1,0,0,1-1-1V1H1V35H24V14a3,3,0,0,1,3-3ZM9,32H5a1,1,0,0,1,0-2H9A1,1,0,0,1,9,32Zm0-4H5a1,1,0,0,1,0-2H9A1,1,0,0,1,9,28Z"
                                ></path>
                                <path
                                  d="M39.88 36.46c-1.43-1-2.88-1.64-2.88-3.66a3.22 3.22 0 0 1 3-3.22V14a1 1 0 0 0-1-1H27a1 1 0 0 0-1 1V36a1 1 0 0 0 1 1C39.7 37 39.5 37.23 39.88 36.46zM32 17a1 1 0 0 1 2 0v2a1 1 0 0 1-2 0zm2 16a1 1 0 0 1-2 0V31a1 1 0 0 1 2 0zm-1-6a2 2 0 1 1 2-2A2 2 0 0 1 33 27zM42 23v7.07l5 2.71C47 27.28 47.59 28.59 42 23z"
                                ></path>
                                <path
                                  d="M39.61,31.74a1.23,1.23,0,0,0-.06,2.09l2,1.34C42.71,35.91,41.1,39,43,39a1,1,0,0,1,0,2,3,3,0,0,1-2.89-2.22c-.73.3-.29.22-9.08.22a4,4,0,0,0,2.18,3.11l.68.34A2,2,0,0,1,35,44.24V47H45c0-3.24-.17-3.83.59-4.59C47.36,40.64,47,39.8,47,35.05,40.62,31.6,40.43,31.24,39.61,31.74Z"
                                ></path>
                              </g>
                            </svg>
                          </span>
                        </h2>
                      </div>
                      <input
                        type="text"
                        value="null"
                        id="due-rental-id"
                        name="rental-id-due-payment"
                        hidden
                      />
                    </div>
                  </div>
                </div>
                <div class="row d-felx justify-content-center">
                  <button type="submit" class="btn btn-success w-50">
                    <i class="fa-solid fa-arrow-rotate-left"></i> Pay & Return
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
              data-bs-toggle="modal"
              data-bs-target="#dueAlerts"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Pending Penalties Modal -->
    <div
      class="modal fade due-alerts"
      id="pendingPenalties"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="pendingPenaltiesLabel"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="pendingPenaltiesLabel">Penalties</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            {% if not penalties %}
            <span class="fw-bold fs-3 d-flex justify-content-center">No Pending Penalties.!</span>
            {%else%}
            <span
              class="h6 text-danger d-felx justify-content-center"
              style="display: flex"
              >Penalty Issued</span
            >
            <div class="row px-3">
              <div class="col-md-4 col-3">Reason</div>
              <div class="col-md-3 col-2">Issue Date</div>
              <div class="col-md-2 col-2">Amount</div>
              <div class="col-md-3 col-5"></div>
            </div>
            {% for item in penalties %}
            <div class="row due-alert-item px-3 py-2">
              <span
                style="cursor: pointer"
                class="col-md-4 col-3"
                >
                {% if item.is_lost %}
                Lost Book - <span class="fw-bold link-primary">{{item.book.title}}</span>
                {%else%}
                Overdue - <span class="fw-bold link-primary">{{item.book.title}}</span>
                {%endif%}
                </span
              >
              <span class="col-md-3 col-2 text-danger"
                >{{item.penalized_date|date:'j/n/y'}}</span
              >
              <span class="col-md-2 col-2">₹{{item.fine_amount}}</span>
              <span class="col-md-3 col-5"
                ><button
                  class="btn btn-primary btn-sm w-100"
                  data-bs-target="#penaltyPayment"
                  data-bs-toggle="modal"
                  data-bs-dismiss="modal"
                  onclick="passPenaltyAmount(`{{item.fine_amount}}`,`{{item.id}}`)"
                >
                  Pay
                </button></span
              >
            </div>
            {%endfor%} {%endif%}
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Penalty payment modal -->
    <div
      class="modal fade"
      id="penaltyPayment"
      data-bs-keyboard="false"
      tabindex="-1"
      aria-labelledby="penaltyPaymentLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="penaltyPaymentLabel">
              Choose a payment option
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="payment-seg">
              <h1 class="h3 mb-2">Payment</h1>
              <div class="due-amount-seg mb-2">
                <span
                  >Penalty Amount Rs:
                  <span
                    class="text-secondary h4"
                    id="pay-penalty-amount-value"
                  ></span
                ></span>
              </div>
              <form
                action="{% url 'payPenalty' %}"
                class="form"
                method="post"
              >
                {%csrf_token%}
                <div class="row">
                  <div class="col">
                    <div class="accordion" id="accordionPayment">
                      <!-- Credit card -->
                      <div class="accordion-item mb-3 border border-secondary">
                        <h2
                          class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center"
                        >
                          <div
                            class="form-check w-100 collapsed d-flex align-items-center"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseCC"
                            aria-expanded="false"
                          >
                            <input
                              class="form-check-input"
                              type="radio"
                              name="PaymentMethod"
                              id="payment1"
                              value="Credit Card"
                              required
                            />
                            <label class="form-check-label ms-2" for="payment1">
                              Credit Card
                            </label>
                          </div>
                          <span>
                            <svg
                              width="34"
                              height="25"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <g fill-rule="nonzero" fill="#333840">
                                <path
                                  d="M29.418 2.083c1.16 0 2.101.933 2.101 2.084v16.666c0 1.15-.94 2.084-2.1 2.084H4.202A2.092 2.092 0 0 1 2.1 20.833V4.167c0-1.15.941-2.084 2.102-2.084h25.215ZM4.203 0C1.882 0 0 1.865 0 4.167v16.666C0 23.135 1.882 25 4.203 25h25.215c2.321 0 4.203-1.865 4.203-4.167V4.167C33.62 1.865 31.739 0 29.418 0H4.203Z"
                                ></path>
                                <path
                                  d="M4.203 7.292c0-.576.47-1.042 1.05-1.042h4.203c.58 0 1.05.466 1.05 1.042v2.083c0 .575-.47 1.042-1.05 1.042H5.253c-.58 0-1.05-.467-1.05-1.042V7.292Zm0 6.25c0-.576.47-1.042 1.05-1.042H15.76c.58 0 1.05.466 1.05 1.042 0 .575-.47 1.041-1.05 1.041H5.253c-.58 0-1.05-.466-1.05-1.041Zm0 4.166c0-.575.47-1.041 1.05-1.041h2.102c.58 0 1.05.466 1.05 1.041 0 .576-.47 1.042-1.05 1.042H5.253c-.58 0-1.05-.466-1.05-1.042Zm6.303 0c0-.575.47-1.041 1.051-1.041h2.101c.58 0 1.051.466 1.051 1.041 0 .576-.47 1.042-1.05 1.042h-2.102c-.58 0-1.05-.466-1.05-1.042Zm6.304 0c0-.575.47-1.041 1.051-1.041h2.101c.58 0 1.05.466 1.05 1.041 0 .576-.47 1.042-1.05 1.042h-2.101c-.58 0-1.05-.466-1.05-1.042Zm6.304 0c0-.575.47-1.041 1.05-1.041h2.102c.58 0 1.05.466 1.05 1.041 0 .576-.47 1.042-1.05 1.042h-2.101c-.58 0-1.05-.466-1.05-1.042Z"
                                ></path>
                              </g>
                            </svg>
                          </span>
                        </h2>
                        <div
                          id="collapseCC"
                          class="accordion-collapse collapse p-3"
                          data-bs-parent="#accordionPayment"
                        >
                          <div class="accordion-body">
                            <div class="mb-3">
                              <label class="form-label">Card Number</label>
                              <input
                                type="text"
                                class="form-control"
                                placeholder=""
                              />
                            </div>
                            <div class="row">
                              <div class="col-lg-6">
                                <div class="mb-3">
                                  <label class="form-label">Name on card</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    placeholder=""
                                  />
                                </div>
                              </div>
                              <div class="col-lg-3">
                                <div class="mb-3">
                                  <label class="form-label">Expiry date</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    placeholder="MM/YY"
                                  />
                                </div>
                              </div>
                              <div class="col-lg-3">
                                <div class="mb-3">
                                  <label class="form-label">CVV Code</label>
                                  <input type="password" class="form-control" />
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- PayPal -->
                      <div class="accordion-item mb-3 border border-secondary">
                        <h2
                          class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center"
                        >
                          <div
                            class="form-check w-100 d-flex align-items-center"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapsePP"
                            aria-expanded="false"
                          >
                            <input
                              class="form-check-input"
                              type="radio"
                              name="PaymentMethod"
                              id="payment2"
                              value="PayPal"
                            />
                            <label class="form-check-label ms-2" for="payment2">
                              PayPal
                            </label>
                          </div>
                          <span>
                            <svg
                              width="103"
                              height="25"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <g fill="none" fill-rule="evenodd">
                                <path
                                  d="M8.962 5.857h7.018c3.768 0 5.187 1.907 4.967 4.71-.362 4.627-3.159 7.187-6.87 7.187h-1.872c-.51 0-.852.337-.99 1.25l-.795 5.308c-.052.344-.233.543-.505.57h-4.41c-.414 0-.561-.317-.452-1.003L7.74 6.862c.105-.68.478-1.005 1.221-1.005Z"
                                  fill="#009EE3"
                                ></path>
                                <path
                                  d="M39.431 5.542c2.368 0 4.553 1.284 4.254 4.485-.363 3.805-2.4 5.91-5.616 5.919h-2.81c-.404 0-.6.33-.705 1.005l-.543 3.455c-.082.522-.35.779-.745.779h-2.614c-.416 0-.561-.267-.469-.863l2.158-13.846c.106-.68.362-.934.827-.934h6.263Zm-4.257 7.413h2.129c1.331-.051 2.215-.973 2.304-2.636.054-1.027-.64-1.763-1.743-1.757l-2.003.009-.687 4.384Zm15.618 7.17c.239-.217.482-.33.447-.062l-.085.642c-.043.335.089.512.4.512h2.323c.391 0 .581-.157.677-.762l1.432-8.982c.072-.451-.039-.672-.38-.672H53.05c-.23 0-.343.128-.402.48l-.095.552c-.049.288-.18.34-.304.05-.433-1.026-1.538-1.486-3.08-1.45-3.581.074-5.996 2.793-6.255 6.279-.2 2.696 1.732 4.813 4.279 4.813 1.848 0 2.674-.543 3.605-1.395l-.007-.005Zm-1.946-1.382c-1.542 0-2.616-1.23-2.393-2.738.223-1.507 1.665-2.737 3.206-2.737 1.542 0 2.616 1.23 2.394 2.737-.223 1.508-1.664 2.738-3.207 2.738Zm11.685-7.971h-2.355c-.486 0-.683.362-.53.808l2.925 8.561-2.868 4.075c-.241.34-.054.65.284.65h2.647a.81.81 0 0 0 .786-.386l8.993-12.898c.277-.397.147-.814-.308-.814H67.6c-.43 0-.602.17-.848.527l-3.75 5.435-1.676-5.447c-.098-.33-.342-.511-.793-.511h-.002Z"
                                  fill="#113984"
                                ></path>
                                <path
                                  d="M79.768 5.542c2.368 0 4.553 1.284 4.254 4.485-.363 3.805-2.4 5.91-5.616 5.919h-2.808c-.404 0-.6.33-.705 1.005l-.543 3.455c-.082.522-.35.779-.745.779h-2.614c-.417 0-.562-.267-.47-.863l2.162-13.85c.107-.68.362-.934.828-.934h6.257v.004Zm-4.257 7.413h2.128c1.332-.051 2.216-.973 2.305-2.636.054-1.027-.64-1.763-1.743-1.757l-2.004.009-.686 4.384Zm15.618 7.17c.239-.217.482-.33.447-.062l-.085.642c-.044.335.089.512.4.512h2.323c.391 0 .581-.157.677-.762l1.431-8.982c.073-.451-.038-.672-.38-.672h-2.55c-.23 0-.343.128-.403.48l-.094.552c-.049.288-.181.34-.304.05-.433-1.026-1.538-1.486-3.08-1.45-3.582.074-5.997 2.793-6.256 6.279-.199 2.696 1.732 4.813 4.28 4.813 1.847 0 2.673-.543 3.604-1.395l-.01-.005Zm-1.944-1.382c-1.542 0-2.616-1.23-2.393-2.738.222-1.507 1.665-2.737 3.206-2.737 1.542 0 2.616 1.23 2.393 2.737-.223 1.508-1.665 2.738-3.206 2.738Zm10.712 2.489h-2.681a.317.317 0 0 1-.328-.362l2.355-14.92a.462.462 0 0 1 .445-.363h2.682a.317.317 0 0 1 .327.362l-2.355 14.92a.462.462 0 0 1-.445.367v-.004Z"
                                  fill="#009EE3"
                                ></path>
                                <path
                                  d="M4.572 0h7.026c1.978 0 4.326.063 5.895 1.45 1.049.925 1.6 2.398 1.473 3.985-.432 5.364-3.64 8.37-7.944 8.37H7.558c-.59 0-.98.39-1.147 1.449l-.967 6.159c-.064.399-.236.634-.544.663H.565c-.48 0-.65-.362-.525-1.163L3.156 1.17C3.28.377 3.717 0 4.572 0Z"
                                  fill="#113984"
                                ></path>
                                <path
                                  d="m6.513 14.629 1.226-7.767c.107-.68.48-1.007 1.223-1.007h7.018c1.161 0 2.102.181 2.837.516-.705 4.776-3.793 7.428-7.837 7.428H7.522c-.464.002-.805.234-1.01.83Z"
                                  fill="#172C70"
                                ></path>
                              </g>
                            </svg>
                          </span>
                        </h2>
                        <div
                          id="collapsePP"
                          class="accordion-collapse collapse"
                          data-bs-parent="#accordionPayment"
                        >
                          <div class="accordion-body">
                            <div class="px-2 col-lg-6 mb-3">
                              <label class="form-label">Email address</label>
                              <input type="email" class="form-control" />
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="accordion-item mb-3 border border-secondary">
                        <h2
                          class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center"
                        >
                          <div
                            class="form-check w-100 d-flex align-items-center"
                          >
                            <input
                              class="form-check-input"
                              type="radio"
                              name="PaymentMethod"
                              id="payment4"
                              value="Cash"
                            />
                            <label class="form-check-label ms-2" for="payment4">
                              Pay by Cash
                            </label>
                          </div>
                          <span>
                            <svg
                              class=""
                              width="50"
                              height="50"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <g data-name="Cash On Delivery">
                                {{!
                                <rect width="6" height="6" x="15" y="1" />
                                }}
                                <path
                                  d="M35,11V1H23V8a1,1,0,0,1-1,1H14a1,1,0,0,1-1-1V1H1V35H24V14a3,3,0,0,1,3-3ZM9,32H5a1,1,0,0,1,0-2H9A1,1,0,0,1,9,32Zm0-4H5a1,1,0,0,1,0-2H9A1,1,0,0,1,9,28Z"
                                ></path>
                                <path
                                  d="M39.88 36.46c-1.43-1-2.88-1.64-2.88-3.66a3.22 3.22 0 0 1 3-3.22V14a1 1 0 0 0-1-1H27a1 1 0 0 0-1 1V36a1 1 0 0 0 1 1C39.7 37 39.5 37.23 39.88 36.46zM32 17a1 1 0 0 1 2 0v2a1 1 0 0 1-2 0zm2 16a1 1 0 0 1-2 0V31a1 1 0 0 1 2 0zm-1-6a2 2 0 1 1 2-2A2 2 0 0 1 33 27zM42 23v7.07l5 2.71C47 27.28 47.59 28.59 42 23z"
                                ></path>
                                <path
                                  d="M39.61,31.74a1.23,1.23,0,0,0-.06,2.09l2,1.34C42.71,35.91,41.1,39,43,39a1,1,0,0,1,0,2,3,3,0,0,1-2.89-2.22c-.73.3-.29.22-9.08.22a4,4,0,0,0,2.18,3.11l.68.34A2,2,0,0,1,35,44.24V47H45c0-3.24-.17-3.83.59-4.59C47.36,40.64,47,39.8,47,35.05,40.62,31.6,40.43,31.24,39.61,31.74Z"
                                ></path>
                              </g>
                            </svg>
                          </span>
                        </h2>
                      </div>
                      <input
                        type="text"
                        value="null"
                        id="penalty-rental-id"
                        name="rental-id-penalty-payment"
                        hidden
                      />
                    </div>
                  </div>
                </div>
                <div class="row d-felx justify-content-center">
                  <button type="submit" class="btn btn-success w-50">
                    <i class="fa-solid fa-money-bill-transfer"></i> Pay <span id="pay-penalty-amount-button"></span>
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
              data-bs-toggle="modal"
              data-bs-target="#pendingPenalties"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>


    <!-- Report Issue modal -->
    <div
      class="modal fade"
      id="reportIssue"
      data-bs-keyboard="false"
      data-bs-backdrop="static"
      tabindex="-1"
      aria-labelledby="reportIssueLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="reprotIssueLabel">Anything Wrong.?</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <form class="form" action="#">
            <div class="modal-body">
              <div class="form-group">
                <input
                  required
                  type="text"
                  class="form-control"
                  name="issue-label"
                  placeholder="What happened?"
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  name="issue-url"
                  placeholder="Source URL"
                />
              </div>
              <div class="form-group">
                <textarea
                  name="detailed-issue-description"
                  id=""
                  cols=""
                  rows="3"
                  class="form-control"
                  placeholder="Give Something more about the problem, if you have.."
                ></textarea>
              </div>
              <div class="form-group">
                <label for="">Attach Visuals</label>
                <input type="file" name="issue-visual" class="form-control" />
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-outline-secondary btn-sm"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" class="btn btn-success btn-sm">
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    {%block searchbar%}
    <div
      class="searchbarhidden justify-content-center w-100"
      style="display: flex"
    >
      <form
        class="form-inline"
        method="get"
        action="{% url 'searchBooks' %}"
        role="search"
        style="display: flex"
        id="searchBarFormHidden"
      >
        <div class="search-bar">
          <input
            class="form-control srch mr-sm-2"
            type="search"
            name="search"
            placeholder="Search Books or Authors.."
            aria-label="Search"
            required
          />
        </div>
        <button class="btn btn-light srchbtn ms-2" type="submit">
          <i class="bx bx-search-alt-2"></i>
        </button>
      </form>
    </div>
    {%endblock%} {%block content %} {%endblock%} {% block pagination%}
    {%endblock%} {%block footer%}
    <!-- <div class="container-fluid w-100">
      <nav aria-label="Page navigation bg-secondary example">
        <ul class="pagination d-flex justify-content-center">
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li class="page-item active">
            <a class="page-link" href="">1</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="">2</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="">3</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="">4</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>
    </div> -->
    <footer
      id="footer-section"
      class="text-center text-lg-start text-white pt-1 pb-3"
      style="background-color: #464646e6"
    >
      <div class="container p-4 pb-0">
        <section class="">
          <div class="row">
            <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
              <h6 class="mb-4 font-weight-bold">GreySense Library</h6>
              <p>The complete reading room.</p>
              <br />
              <h6 class="text-uppercase mb-4 font-weight-bold">Policy</h6>
              <p>
                <a class="text-white">Terms & Conditions</a>
              </p>
              <p>
                <a class="text-white">Privacy Policy</a>
              </p>
            </div>

            <hr class="w-100 clearfix d-md-none" />

            <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mt-3">
              <h6 class="text-uppercase mb-4 font-weight-bold">Categories</h6>
              <p>
                <a class="text-white">Novels</a>
              </p>
              <p>
                <a class="text-white">Crime Thrillers</a>
              </p>
              <p>
                <a class="text-white">Fiction</a>
              </p>
              <p>
                <a class="text-white">Poems</a>
              </p>
            </div>

            <hr class="w-100 clearfix d-md-none" />

            <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mt-3">
              <h6 class="text-uppercase mb-4 font-weight-bold">Useful links</h6>
              <p>
                <a href="./home.html" class="text-white">Home</a>
              </p>
              <p>
                <a class="text-white">Your Account</a>
              </p>
              <p>
                <a class="text-white">Purchases</a>
              </p>
              <p>
                <a class="text-white">Help</a>
              </p>
            </div>

            <hr class="w-100 clearfix d-md-none" />

            <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mt-3">
              <h6 class="text-uppercase mb-4 font-weight-bold">Contact</h6>
              <p><i class="fa fa-home mr-3"></i> New Delhi, DL 67567, IND</p>
              <p><i class="fa fa-envelope mr-3"></i> info@greysense.com</p>
              <p><i class="fa fa-phone mr-3"></i> + 91 982 567 88</p>
              <p><i class="fa fa-print mr-3"></i> + 91 704 567 89</p>
            </div>
          </div>
        </section>
        <hr class="my-1" />
        <!-- Section: Copyright -->
        <section class="pt-1 pt-0">
          <div class="row d-flex align-items-center">
            <div class="col-md-7 col-lg-8 text-center text-md-start">
              <div class="pt-1 pb-1">
                © 2023 Copyright:
                <a class="text-white" href="home.html">greysense.com</a>
              </div>
            </div>
            <div class="col-md-5 col-lg-4 ml-lg-0 text-center text-md-end">
              <a
                class="btn btn-outline-light btn-floating m-1"
                class="text-white"
                role="button"
                ><i class="fa fa-facebook-f"></i
              ></a>
              <a
                class="btn btn-outline-light btn-floating m-1"
                class="text-white"
                role="button"
                ><i class="fa fa-twitter"></i
              ></a>
              <a
                class="btn btn-outline-light btn-floating m-1"
                class="text-white"
                role="button"
                ><i class="fa fa-google"></i
              ></a>
              <a
                class="btn btn-outline-light btn-floating m-1"
                class="text-white"
                role="button"
                ><i class="fa fa-instagram"></i
              ></a>
            </div>
          </div>
        </section>
      </div>
    </footer>
    {%endblock%}

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
      integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script> -->

    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> -->
    <script
      src="{% static 'javascript/script.js' %}"
      type="text/javascript"
    ></script>
    <script
      src="{% static 'javascript/base.js' %}"
      type="text/javascript"
    ></script>

    {%if messages%} {%for message in messages%} {%if message.tags == "success"%}
    <script>
      swal({
        position: "top-end",
        icon: "success",
        title: "{{message}}",
      });
    </script>
    {%elif message.tags == "warning"%}
    <script>
      swal({
        position: "top-end",
        icon: "warning",
        title: "{{message}}",
      });
    </script>
    {%elif message.tags == "error"%}
    <script>
      swal({
        position: "top-end",
        icon: "error",
        title: "{{message}}",
      });
    </script>
    {%else%}
    <script>
      swal({
        position: "top-end",
        icon: "info",
        title: "{{message}}",
      });
    </script>
    {%endif%} {%endfor%} {%endif%} {%block script %} {%endblock%} 
    {%block messages%} {%endblock%}
  </body>
</html>
